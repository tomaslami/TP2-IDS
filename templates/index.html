{% extends "base.html" %}
{% block title %}{{ info.nombre }}{% endblock %}

{% block content %}
<!-- ======= Hero Section ======= -->
<section id="inicio" class="hero section dark-background">
  <img src="{{ url_for('static', filename='images/fondo.jpg') }}" alt="" class="hero-bg" />
  <div class="container text-center" data-aos="fade-up">
    <h1>{{ info.nombre }}</h1>
    <p class="lead">{{ info.descripcion }}</p>
    <p><strong>Fecha:</strong> {{ info.fecha }} {{ info.horario }} · <strong>Lugar:</strong> {{ info.lugar }}</p>
    <div class="d-flex justify-content-center gap-2 mt-3">
      <a href="{{ url_for('registration') }}" class="btn btn-primary">Inscribirme</a>
      <a href="#recorrido" class="btn btn-outline-light">Ver recorrido</a>
    </div>
  </div>
</section>
<!-- End Hero -->

<!-- Recorrido / Mapa -->
<section id="recorrido" class="section">
  <div class="container" data-aos="fade-up">
    <div class="section-title">
      <h2>Recorrido</h2>
    </div>

    <div class="row g-4">
      <div class="col-12 col-lg-6">
        <div class="map-wrap">
          <div class="ratio ratio-16x9">
            <iframe src="https://www.google.com/maps/d/u/0/embed?mid=1rtTG4Shdds9AXzqtPrSVPngnDM9RpOs&ehbc=2E312F"
              allowfullscreen loading="lazy"></iframe>
          </div>
        </div>
      </div>

      <div class="col-12 col-lg-6">
        <div class="map-wrap">
          <div class="ratio ratio-16x9">
            <iframe src="https://www.google.com/maps/d/u/0/embed?mid=1fxcvAarL2qw5WBjtp9k0C3xJsHTk4tg&ehbc=2E312F"
              allowfullscreen loading="lazy"></iframe>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Puntos de hidratación por carrera -->
<section id="hidratacion" class="section">
  <div class="container" data-aos="fade-up">
    <div class="section-title">
      <h2>Puntos de hidratación</h2>
    </div>
    <div class="row g-4">
      <div class="col-md-6">
        <h3 class="h5">Corta (30 km)</h3>
        <ul class="list-group list-group-flush">
          {% for p in info.puntos_hidratacion_30 %}
          <li class="list-group-item">{{ p }}</li>
          {% endfor %}
        </ul>
      </div>
      <div class="col-md-6">
        <h3 class="h5">Larga (80 km)</h3>
        <ul class="list-group list-group-flush">
          {% for p in info.puntos_hidratacion_80 %}
          <li class="list-group-item">{{ p }}</li>
          {% endfor %}
        </ul>
      </div>
    </div>
  </div>
</section>

<!-- ======= Kit de Carrera ======= -->
<section id="kit" class="section">
  <div class="container" data-aos="fade-up">
    <div class="section-title">
      <h2>Kit de carrera</h2>
    </div>
    <div class="row g-3">
      {% for item in info.kit_carrera %}
      <div class="col-md-6">
        <div class="p-3 border rounded-3 h-100 d-flex align-items-center gap-2">
          <i class="bi bi-check2-circle fs-4"></i> <span>{{ item }}</span>
        </div>
      </div>
      {% endfor %}
    </div>
  </div>
</section>

<!-- ======= Modalidades y costos ======= -->
<section id="modalidades" class="section">
  <div class="container" data-aos="fade-up">
    <div class="section-title">
      <h2>Modalidades y costos</h2>
    </div>
    <div class="row g-4">
      {% for _, m in info.modalidad_costo.items() %}
      <div class="col-md-6">
        <div class="card h-100 border-0 shadow-sm">
          <div class="card-body">
            <h5 class="card-title">{{ m.nombre }}</h5>
            <p class="card-text mb-4">Costo de inscripción</p>
            <div class="display-6 fw-bold mb-3">$ {{ m.valor }}</div>
            <a href="{{ url_for('registration') }}" class="btn btn-primary w-100">Inscribirme a {{ m.nombre }}</a>
          </div>
        </div>
      </div>
      {% endfor %}
    </div>
  </div>
</section>

<!-- ======= Auspiciantes ======= -->
<section id="auspiciantes" class="section">
  <div class="container" data-aos="fade-up">
    <div class="section-title">
      <h2>Auspiciantes</h2>
      <p>Gracias por el apoyo</p>
    </div>
    <div class="row g-4 align-items-center justify-content-center">
      {% for s in info.auspiciantes %}
      <div class="col-6 col-md-3 col-lg-2 text-center">
        <img src="{{ url_for('static', filename='images/sponsors/' ~ s) }}" class="img-fluid grayscale-hover"
          alt="sponsor">
      </div>
      {% endfor %}
    </div>
  </div>
</section>

<!-- ======= Documentos ======= -->
<section id="documentos" class="section">
  <div class="container" data-aos="fade-up">
    <div class="section-title">
      <h2>Documentación</h2>
    </div>
    <div class="d-flex flex-wrap gap-2">
      <a class="btn btn-outline-primary" href="{{ url_for('docs', filename='deslinde.pdf') }}" target="_blank">Descargar
        deslinde (PDF)</a>
      <a class="btn btn-outline-secondary" href="{{ url_for('docs', filename='reglamento.pdf') }}"
        target="_blank">Reglamento (PDF)</a>
    </div>
  </div>
</section>
{% endblock %}